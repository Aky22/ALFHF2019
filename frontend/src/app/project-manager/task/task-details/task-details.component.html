<div *ngIf="task !== undefined && mode !== undefined">
  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <p-panel header="Task">
      <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
        <div class="ui-grid-row">
          <div class="ui-grid-col-3">
            Task name:
          </div>
          <div class="ui-grid-col-9">
            <input pInputText type="text" formControlName="name" placeholder="Required"/>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-3">
            Description:
          </div>
          <div class="ui-grid-col-9">
          <textarea
            pInputTextarea
            type="text"
            formControlName="description"
            [rows]="5"
            [autoResize]="'autoResize'"></textarea>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-3">
            Deadline:
          </div>
          <div class="ui-grid-col-9">
            <p-calendar [showIcon]="true" [formControlName]="'deadline'"></p-calendar>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-3">
            Accountable:
          </div>
          <div class="ui-grid-col-9">
            <div class="ui-inputgroup">
              <input type="text" pInputText placeholder="Required" [disabled]="true" value="{{taskForm.value.accountableUser.username === null ? '' : taskForm.value.accountableUser.username}}">
              <button pButton type="button" icon="pi pi-user-plus" (click)="isSelectAccountable = !isSelectAccountable" class="ui-button-warn"></button>
            </div>
            <p-listbox
              *ngIf="isSelectAccountable"
              [options]="simpleUsers"
              [formControlName]="'accountableUser'"
              checkbox="checkbox"
              filter="filter"
              optionLabel="username"
              dataKey="id"
              [listStyle]="{'max-height':'250px'}">
              <p-header>
                Accountable
              </p-header>
            </p-listbox>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-3"></div>
          <div class="ui-grid-col-9">
            <button pButton type="submit" label="Submit" [disabled]="!taskForm.valid"></button>
          </div>
        </div>
      </div>
    </p-panel>
  </form>
</div>
